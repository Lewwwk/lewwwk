{{- define "main" }}

<article class="post-single page-about">
  <header class="about-header">
    <div class="about-avatar-wrapper">
      <canvas id="zero-avatar" width="256" height="256" class="about-avatar" style="border-radius:50%"></canvas>
    </div>
    <h1 class="about-title">{{ .Title }}</h1>
    <p class="about-tagline">Personal automation agent.</p>
  </header>

  {{- if .Content }}
  <div class="post-content about-content no-dropcap">
    {{- if not (.Param "disableAnchoredHeadings") }}
    {{- partial "anchored_headings.html" .Content -}}
    {{- else }}{{ .Content }}{{ end }}
  </div>
  {{- end }}

  <footer class="post-footer">
  </footer>
</article>

<script>
(function(){
const SIZE=256,VENTURES=['a','b','c'],TRAIL_LENGTH=150,SCAN_SPEED=0.35,BREATH_FREQ=0.65;
function generateStars(size,count,innerR){const cx=size/2,cy=size/2,stars=[];for(let i=0;i<count;i++){const x=Math.random()*size,y=Math.random()*size,dist=Math.hypot(x-cx,y-cy);if(dist<innerR*0.9&&Math.random()>0.15)continue;const baseSize=dist>innerR?0.4+Math.random()*1.2:0.2+Math.random()*0.5;const baseBright=dist>innerR?0.3+Math.random()*0.7:0.1+Math.random()*0.3;stars.push({x,y,baseSize,baseBright,twinkleSpeed:0.5+Math.random()*3,twinkleOffset:Math.random()*Math.PI*2,dist})}return stars}
function generateInteriorStars(size,innerR,count){const cx=size/2,cy=size/2,stars=[];for(let i=0;i<count;i++){const angle=Math.random()*Math.PI*2,dist=Math.sqrt(Math.random())*innerR*0.88;stars.push({x:cx+dist*Math.cos(angle),y:cy+dist*Math.sin(angle),baseSize:0.3+Math.random()*1.0,baseBright:0.3+Math.random()*0.6,twinkleSpeed:0.3+Math.random()*2,twinkleOffset:Math.random()*Math.PI*2,dist})}return stars}
function drawStars(ctx,stars,size,t,gi){ctx.shadowBlur=0;ctx.shadowColor='transparent';for(const s of stars){const tw=0.5+0.5*Math.sin(t*s.twinkleSpeed+s.twinkleOffset),br=s.baseBright*(0.4+0.6*tw)*gi,sz=s.baseSize*(0.7+0.3*tw);if(br<0.05)continue;ctx.fillStyle=`rgba(${Math.floor(180+75*tw)},${Math.floor(210+45*tw)},255,${br})`;ctx.beginPath();ctx.arc(s.x,s.y,sz,0,Math.PI*2);ctx.fill()}}
function drawTaperedTrail(ctx,trail,dotSize,gi){if(trail.length<2)return;ctx.shadowBlur=0;ctx.shadowColor='transparent';ctx.lineCap='round';ctx.lineJoin='round';const len=trail.length;for(let i=1;i<len;i++){const p=i/(len-1),a=p*0.14*gi,w=dotSize*(0.4+0.6*p);if(a<0.003)continue;ctx.strokeStyle=`rgba(0,210,255,${a})`;ctx.lineWidth=w;ctx.beginPath();ctx.moveTo(trail[i-1].x,trail[i-1].y);ctx.lineTo(trail[i].x,trail[i].y);ctx.stroke()}}
function drawZeroAvatar(ctx,size,stars,interiorStars,opts){const{glowIntensity:gi=1,pulsePhase:pp=0,scanAngle:sa=0,t=0,echoWaves:ew=[],isStatic:is=false,dots=[],trails=[],dotSpeeds:ds=[]}=opts;const cx=size/2,cy=size/2,r=size*0.24,bf=(1-Math.cos(pp))/2,ps=1+0.15*bf;ctx.clearRect(0,0,size,size);ctx.fillStyle='#0a0a0f';ctx.fillRect(0,0,size,size);drawStars(ctx,stars,size,t,gi);const glowR=r*2.4*ps,outerGlow=ctx.createRadialGradient(cx,cy,r*0.3,cx,cy,glowR);outerGlow.addColorStop(0,`rgba(0,200,255,${0.2*gi*ps})`);outerGlow.addColorStop(0.4,`rgba(0,150,255,${0.08*gi*ps})`);outerGlow.addColorStop(1,'rgba(0,100,255,0)');ctx.fillStyle=outerGlow;ctx.beginPath();ctx.arc(cx,cy,glowR,0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;ctx.shadowColor='transparent';for(const wave of ew){const age=wave.age;if(age<0.01)continue;for(let j=0;j<6;j++){const tf=j/6,ta=age*(1-tf),rr=r+(size*0.65)*ta,fd=Math.pow(1-tf,1.5),fa=(1-age)*(1-age),al=0.18*fd*fa*gi;if(al<0.004||rr<=r)continue;ctx.strokeStyle=`rgba(0,200,255,${al})`;ctx.lineWidth=size*0.005*(1-tf*0.5);ctx.beginPath();ctx.arc(cx,cy,rr,0,Math.PI*2);ctx.stroke()}}const lw=size*0.035,ca=sa,ax=cx+r*Math.cos(ca),halfR=r/2,mAx=cx+halfR*Math.cos(ca),mAy=cy+halfR*Math.sin(ca),mBx=cx+halfR*Math.cos(ca+Math.PI),mBy=cy+halfR*Math.sin(ca+Math.PI);function traceFish(upper){ctx.beginPath();ctx.arc(cx,cy,r,ca,ca+Math.PI,upper);ctx.arc(mBx,mBy,halfR,ca+Math.PI,ca,true);ctx.arc(mAx,mAy,halfR,ca+Math.PI,ca,false);ctx.closePath()}ctx.save();ctx.beginPath();ctx.arc(cx,cy,r-lw*0.5,0,Math.PI*2);ctx.clip();drawStars(ctx,interiorStars,size,t,gi*1.2);ctx.restore();ctx.save();traceFish(false);ctx.clip();ctx.fillStyle=`rgb(0,${Math.round(220*gi)},${Math.round(255*gi)})`;ctx.fillRect(0,0,size,size);for(const s of interiorStars){const tw=0.5+0.5*Math.sin(t*s.twinkleSpeed+s.twinkleOffset),br=s.baseBright*(0.4+0.6*tw),sz=s.baseSize*(0.7+0.3*tw);if(br<0.05)continue;ctx.fillStyle=`rgba(5,5,12,${br*0.85})`;ctx.beginPath();ctx.arc(s.x,s.y,sz*1.1,0,Math.PI*2);ctx.fill()}ctx.restore();ctx.save();ctx.beginPath();ctx.arc(cx,cy,r,0,Math.PI*2);ctx.clip();const ig=ctx.createRadialGradient(cx,cy,0,cx,cy,r);ig.addColorStop(0,`rgba(0,180,255,${0.12*gi*ps})`);ig.addColorStop(0.5,`rgba(0,120,255,${0.05*gi*ps})`);ig.addColorStop(1,'rgba(0,80,255,0)');ctx.fillStyle=ig;ctx.fillRect(cx-r,cy-r,r*2,r*2);ctx.restore();const bfv=bf,lR=Math.round(200*bfv*gi),lG=Math.round((220+30*bfv)*gi),lB=Math.round(255*gi);ctx.shadowColor=`rgba(${lR},${lG},255,${0.9*(1+0.15*bfv)})`;ctx.shadowBlur=size*0.07*(1+0.15*bfv);ctx.strokeStyle=`rgb(${lR},${lG},${lB})`;ctx.lineWidth=lw;ctx.lineCap='butt';ctx.beginPath();ctx.arc(cx,cy,r,0,Math.PI*2);ctx.moveTo(ax,cy+r*Math.sin(ca));ctx.arc(mAx,mAy,halfR,ca,ca+Math.PI,true);ctx.arc(mBx,mBy,halfR,ca,ca+Math.PI,false);ctx.stroke();const cMin=lw/2,cMax=size*0.024,dotSize=cMax;for(let i=0;i<dots.length;i++){if(trails[i])drawTaperedTrail(ctx,trails[i],dotSize,gi)}for(let i=0;i<dots.length;i++){const{x:dx,y:dy}=dots[i],sp=ds[i]||0,dsRaw=dotSize*(0.6+0.6*Math.min(sp/1.1,2)),dsFinal=Math.min(cMax,Math.max(cMin,dsRaw)),gs=1+0.15*bfv;ctx.shadowBlur=size*0.04*gs;ctx.shadowColor=`rgba(${lR},${lG},${lB},${0.9*gs})`;const gR=dsFinal*(2.5+1.5*bfv),dg=ctx.createRadialGradient(dx,dy,0,dx,dy,gR);dg.addColorStop(0,`rgba(${lR},${lG},${lB},0.6)`);dg.addColorStop(0.4,`rgba(${lR},${lG},${lB},0.15)`);dg.addColorStop(1,`rgba(${lR},${lG},${lB},0)`);ctx.fillStyle=dg;ctx.beginPath();ctx.arc(dx,dy,gR,0,Math.PI*2);ctx.fill();ctx.fillStyle=`rgb(${lR},${lG},${lB})`;ctx.shadowBlur=0;ctx.shadowColor='transparent';ctx.beginPath();ctx.arc(dx,dy,dsFinal,0,Math.PI*2);ctx.fill()}const eyeR=cMax;ctx.shadowBlur=0;ctx.shadowColor='transparent';ctx.save();ctx.beginPath();ctx.arc(mAx,mAy,eyeR,0,Math.PI*2);ctx.globalCompositeOperation='destination-out';ctx.fillStyle='black';ctx.fill();ctx.globalCompositeOperation='source-over';ctx.clip();ctx.fillStyle='#0a0a0f';ctx.fillRect(mAx-eyeR,mAy-eyeR,eyeR*2,eyeR*2);for(const s of interiorStars){const ddx=s.x-mAx,ddy=s.y-mAy;if(ddx*ddx+ddy*ddy>(eyeR+1)*(eyeR+1))continue;const tw=0.5+0.5*Math.sin(t*s.twinkleSpeed+s.twinkleOffset),br=s.baseBright*(0.4+0.6*tw),sz=s.baseSize*(0.7+0.3*tw);if(br<0.05)continue;ctx.fillStyle=`rgba(${Math.floor(180+75*tw)},${Math.floor(210+45*tw)},255,${br})`;ctx.beginPath();ctx.arc(s.x,s.y,sz,0,Math.PI*2);ctx.fill()}const eg=ctx.createRadialGradient(mAx,mAy,0,mAx,mAy,eyeR);eg.addColorStop(0,'rgba(0,80,255,0)');eg.addColorStop(0.4,'rgba(0,120,255,0)');eg.addColorStop(0.7,`rgba(0,150,255,${0.12*ps})`);eg.addColorStop(1,`rgba(0,200,255,${0.3*ps})`);ctx.fillStyle=eg;ctx.fillRect(mAx-eyeR,mAy-eyeR,eyeR*2,eyeR*2);ctx.restore();ctx.fillStyle=`rgb(${lR},${lG},${lB})`;ctx.beginPath();ctx.arc(mBx,mBy,eyeR,0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;ctx.shadowColor='transparent'}
function getDotPosition(cx,cy,baseOrbitR,vi,t){const bs=[SCAN_SPEED*0.85,SCAN_SPEED*1.0,SCAN_SPEED*0.92],off=[0,Math.PI*2/3,Math.PI*4/3],amp=[0.35,0.40,0.30],ph=[0,2.1,4.2],b=bs[vi],a=amp[vi],f=b/2,p=ph[vi],sm=1+a*Math.sin(f*t+p),angle=b*t-(b*a/f)*Math.cos(f*t+p)+off[vi],dotR=baseOrbitR*(1+0.3*(sm-1));return{x:cx+dotR*Math.cos(angle),y:cy+dotR*Math.sin(angle)}}
const canvas=document.getElementById('zero-avatar'),ctx=canvas.getContext('2d'),CX=SIZE/2,CY=SIZE/2,R=SIZE*0.24,ORBIT_R=R*1.55;const stars=generateStars(SIZE,400,R),interior=generateInteriorStars(SIZE,R,200),trailBuffers=VENTURES.map(()=>[]),echoWaves=[];let frame=0,lastPeak=false;
function animate(){frame++;const t=frame/60,pp=t*BREATH_FREQ,bf=(1-Math.cos(pp))/2,isPeak=bf>0.99;if(isPeak&&!lastPeak)echoWaves.push({age:0});lastPeak=isPeak;for(let i=echoWaves.length-1;i>=0;i--){echoWaves[i].age+=0.005;if(echoWaves[i].age>1)echoWaves.splice(i,1)}const dots=VENTURES.map((_,i)=>getDotPosition(CX,CY,ORBIT_R,i,t));for(let i=0;i<VENTURES.length;i++){trailBuffers[i].push({x:dots[i].x,y:dots[i].y});if(trailBuffers[i].length>TRAIL_LENGTH)trailBuffers[i].shift()}const dotSpeeds=VENTURES.map((_,i)=>{const buf=trailBuffers[i],w=Math.min(8,buf.length-1);if(w<1)return 0;let d=0;for(let j=buf.length-1;j>buf.length-1-w;j--)d+=Math.hypot(buf[j].x-buf[j-1].x,buf[j].y-buf[j-1].y);return d/w});drawZeroAvatar(ctx,SIZE,stars,interior,{glowIntensity:0.85+0.15*bf,pulsePhase:pp,scanAngle:-t*SCAN_SPEED,echoWaves,t,dots,trails:trailBuffers,dotSpeeds});requestAnimationFrame(animate)}animate()})();
</script>

{{- end }}{{/* end main */}}
