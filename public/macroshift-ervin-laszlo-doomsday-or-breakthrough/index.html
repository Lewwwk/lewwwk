<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Macroshift (Ervin Laszlo) — Doomsday or Breakthrough? | Lewwwk</title>
<meta name="keywords" content="">
<meta name="description" content="::: entry-content
I&rsquo;m only through the first two chapters of Ervin Laszlo&rsquo;s book Macroshift, but thought I&rsquo;d better post these snippets before I get caught-up in the flow of the week.  I came across this through a client who pointed to this as the best description of what their work is responding to.  I couldn&rsquo;t agree more&hellip; and know a few others that will feel the same way&hellip; and am hoping more people will join those ranks. ">
<meta name="author" content="Michael Lewkowitz">
<link rel="canonical" href="https://lewwwk.com/macroshift-ervin-laszlo-doomsday-or-breakthrough/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://lewwwk.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://lewwwk.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://lewwwk.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://lewwwk.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://lewwwk.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://lewwwk.com/macroshift-ervin-laszlo-doomsday-or-breakthrough/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="https://lewwwk.com/macroshift-ervin-laszlo-doomsday-or-breakthrough/">
  <meta property="og:site_name" content="Lewwwk">
  <meta property="og:title" content="Macroshift (Ervin Laszlo) — Doomsday or Breakthrough?">
  <meta property="og:description" content="::: entry-content I’m only through the first two chapters of Ervin Laszlo’s book Macroshift, but thought I’d better post these snippets before I get caught-up in the flow of the week. I came across this through a client who pointed to this as the best description of what their work is responding to. I couldn’t agree more… and know a few others that will feel the same way… and am hoping more people will join those ranks. ">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2007-10-29T19:06:00+00:00">
    <meta property="article:modified_time" content="2007-10-29T19:06:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Macroshift (Ervin Laszlo) — Doomsday or Breakthrough?">
<meta name="twitter:description" content="::: entry-content
I&rsquo;m only through the first two chapters of Ervin Laszlo&rsquo;s book Macroshift, but thought I&rsquo;d better post these snippets before I get caught-up in the flow of the week.  I came across this through a client who pointed to this as the best description of what their work is responding to.  I couldn&rsquo;t agree more&hellip; and know a few others that will feel the same way&hellip; and am hoping more people will join those ranks. ">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://lewwwk.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Macroshift (Ervin Laszlo) — Doomsday or Breakthrough?",
      "item": "https://lewwwk.com/macroshift-ervin-laszlo-doomsday-or-breakthrough/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Macroshift (Ervin Laszlo) — Doomsday or Breakthrough?",
  "name": "Macroshift (Ervin Laszlo) — Doomsday or Breakthrough?",
  "description": "::: entry-content I\u0026rsquo;m only through the first two chapters of Ervin Laszlo\u0026rsquo;s book Macroshift, but thought I\u0026rsquo;d better post these snippets before I get caught-up in the flow of the week. I came across this through a client who pointed to this as the best description of what their work is responding to. I couldn\u0026rsquo;t agree more\u0026hellip; and know a few others that will feel the same way\u0026hellip; and am hoping more people will join those ranks. ",
  "keywords": [
    
  ],
  "articleBody": "::: entry-content I’m only through the first two chapters of Ervin Laszlo’s book Macroshift, but thought I’d better post these snippets before I get caught-up in the flow of the week. I came across this through a client who pointed to this as the best description of what their work is responding to. I couldn’t agree more… and know a few others that will feel the same way… and am hoping more people will join those ranks. The Four Phases of a Macroshift are the core theory and pretty easy to follow and digest. They are also applied directly to our current position here.\nInterestingly the book has helped me articulate the relevance of social media to my focus on transformative venturing and restoring balance among people and the planet… and it’s that social media represents the first time that technology is encouraging a deepening of connections between people – a key reversal in the trend that technology has been playing since the industrialization wave that has shaped our society into the position it is in. One key quote in this is:\n“The insight emerging from this four-phase dynamic is simple and straightforward. Macroshifts are triggered by technological innovations that destabilize the established structures and institutions of society. More adapted structures and institutions await the surfacing of a more adapted mindset in the bulk of the population. Consequently, a macroshift is a transformation of civilization in which technology is the driver and the values and consciousness of a critical mas of people the decider.”\nAnyone get a feeling that social media is going to play an important role?\nI highly recommend buying the book – it’s a much easier read that the last book I posted on. In the meantime… enjoy… here are some of the other highlight quotes from the first two chapters.\n+++\n“… a vital point: the future is not to be forecast, but created.”\n“… where desire, transformed into the masterful administration of the unforeseen, makes for a selection between a scenario of breakdown and scenario of breakthrough.”\n“Today’s transformation is not just economic, it is a [civilizational]{style=“font-style: italic;”} process.”\n“The message of this book is that ours is an era of total-range evolutionary transformation that could, and ultimately will, go beyond economic globalization to pave the way toward a shift in civilization.”\n“Just as the present has emerged out of the past, the future is likely to follow from conditions in the present. After all, where we are going has much to do with where we have been.”\n“Given the unsustainability of many trends and processes in today’s world, the dynamic of development that will apply to our future is not the linear dynamic of classical extrapolation but the nonlinear chaos dynamic of complex-system evolution.”\n“A macroshift is a bifurcation in the evolutionary dynamic of a society – in our interacting and interdependent world it is a bifurcation of human civilization in its quasi totality.”\n“…‘catastrophic bifurcation’. Here the system’s relatively stable ‘point’ and ‘periodic’ attractors are joined by ‘chaotic’ or ‘strange’ attractors. These appear suddenly , as chaos theorists say, ‘out of the blue.’ They drive the system into a supersensitive state, the state of chaos.”\n“The slightest distrubance would shift the evolutionary trajectory of the world’s weather from one of the wings to the other. The weather, it appears, is a system in a permanently chaotic state – a system permanently governed by chaotic attractors.”\n“Living systems maintain themselves in the physically improbable state far from thermal and chemical equilibrium. … Living systems do not move toward equilibrium, as classical physical systems do, but maintain themselves in their improbable state by constantly replenishing the energies and matter they consume with fresh energies and matter obtained from their environment.”\n“When a human society reaches the limits of its stability, it becomes supersensitive and is highly responsive to the smallest fluctuation. Then the system responds even to subtle changes in values, beliefs, worldviews, and aspirations.”\n“The evolution of the dominant culture and consciousness – the way people’s values, views and ethics respond and change – determine the outcome of the system’s chaos leap (the way its developmental trajectory forks off).”\n“The macroshift moves toward a successful conclusion if, and only if, a critical mass of people in society evolve their mindset: if they generate and embrace values, worldviews, and ethics that mesh with the conditions that were inadvertently spawned by the technological innovations of their predecessors.”\n“The present time was associated with local space, and the future was seen as a continuous recurrence of the rythms experienced in the present. The seasons were known to follow each other, but there were no new seasons; all times had already been experienced.”\n“These communities had a high level of integration. The individual was an essential part of the clan or tribe, which in turn was embedded in nature and governed by cosmic forces. Nature and humans did not exist in separation, much less in opposition. Humans had empathy with all they encountered. … In the seventeenth century Europe’s mechanically colored Logos culminated in the concept of the world as a giant machine, which was elaborated by Giordano Bruno and Galileo Galilei. Newton’s mathematical demonstration of the universality of the laws of motion confirmed galileo’s pioneering insights and provided a basis for embracing a world concept that became the hallmark of the modern age. …The universe was a divinely designed clockwork that was set in motion by a prime mover and then ran harmoniously through all eternity. It was believed to operate according to strict laws of nature. A knowledge of these lawss was said to enable the rational mind to know all things past, present and future. … and as Laplace was reputed to have commented to Napoleon, God was a hypothesis for which there was no longer any need.”\n“… countless civilizations failed to survive, victims of changing conditions to which they could not adapt. This failure is not one we can contemplate today.”\n“If our Logos-dominated civilizations fails to adapt to the conditions it has itself created, the entire economic and political structure of our world will come crashing down.”\n“… the macroshift from national industrial societies toward a globally interdependent yet locally diverse world.”\n“It is the flexibility and creativity of the people that creates the subtle but all-important “fluctuation” that decides which of the available evolutionary paths the macroshift will then follow.”\nBlogged with Flock{rel=“noopener noreferrer” target=\"_new\"} :::\n",
  "wordCount" : "1075",
  "inLanguage": "en",
  "datePublished": "2007-10-29T19:06:00Z",
  "dateModified": "2007-10-29T19:06:00Z",
  "author":{
    "@type": "Person",
    "name": "Michael Lewkowitz"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lewwwk.com/macroshift-ervin-laszlo-doomsday-or-breakthrough/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lewwwk",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lewwwk.com/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lewwwk.com/" accesskey="h" title="Lewwwk (Alt + H)">Lewwwk</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lewwwk.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://lewwwk.com/posts/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://lewwwk.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Macroshift (Ervin Laszlo) — Doomsday or Breakthrough?
    </h1>
    <div class="post-meta"><span title='2007-10-29 19:06:00 +0000 UTC'>October 29, 2007</span>&nbsp;·&nbsp;<span>6 min</span>&nbsp;·&nbsp;<span>Michael Lewkowitz</span>

</div>
  </header> 
  <div class="post-content"><p>::: entry-content
I&rsquo;m only through the first two chapters of <a href="http://en.wikipedia.org/wiki/Ervin_L%C3%A1szl%C3%B3">Ervin Laszlo</a>&rsquo;s book <a href="http://www.amazon.com/Macroshift-Navigating-Transformation-Sustainable-World/dp/1576751635/ref=pd_bbs_sr_1/002-0269927-3836077?ie=UTF8&amp;s=books&amp;qid=1193681423&amp;sr=8-1">Macroshift</a>, but thought I&rsquo;d better post these snippets before I get caught-up in the flow of the week.  I came across this through a client who pointed to this as the best description of what their work is responding to.  I couldn&rsquo;t agree more&hellip; and know a few others that will feel the same way&hellip; and am hoping more people will join those ranks. </p>
<p>The <a href="http://igniter.tumblr.com/post/17689481">Four Phases of a Macroshift</a> are the core theory and pretty easy to follow and digest.  They are also applied directly to our current position <a href="http://igniter.tumblr.com/post/17694101">here</a>.</p>
<p>Interestingly the book has helped me articulate the relevance of social media to my focus on transformative venturing and restoring balance among people and the planet&hellip; and it&rsquo;s that social media represents the first time that technology is encouraging a deepening of connections between people &ndash; a key reversal in the trend that technology has been playing since the industrialization wave that has shaped our society into the position it is in. </p>
<p>One key quote in this is:</p>
<p>&ldquo;The insight emerging from this <a href="http://igniter.tumblr.com/post/17689481">four-phase dynamic</a> is simple and straightforward. Macroshifts are triggered by technological innovations that destabilize the established structures and institutions of society. More adapted structures and institutions await the surfacing of a more adapted mindset in the bulk of the population. Consequently, a macroshift is a transformation of civilization in which technology is the driver and the values and consciousness of a critical mas of people the decider.&rdquo;</p>
<p>Anyone get a feeling that social media is going to play an important role?</p>
<p>I highly recommend buying the book &ndash; it&rsquo;s a much easier read that the last book I posted on.  In the meantime&hellip; enjoy&hellip; here are some of the other highlight quotes from the first two chapters.</p>
<p>+++</p>
<p>&ldquo;&hellip; a vital point: the future is not to be forecast, but created.&rdquo;</p>
<p>&ldquo;&hellip; where desire, transformed into the masterful administration of the unforeseen, makes for a selection between a scenario of breakdown and scenario of breakthrough.&rdquo;</p>
<p>&ldquo;Today&rsquo;s transformation is not just economic, it is a [civilizational]{style=&ldquo;font-style: italic;&rdquo;} process.&rdquo;</p>
<p>&ldquo;The message of this book is that ours is an era of total-range evolutionary transformation that could, and ultimately will, go beyond economic globalization to pave the way toward a shift in civilization.&rdquo;</p>
<p>&ldquo;Just as the present has emerged out of the past, the future is likely to follow from conditions in the present. After all, where we are going has much to do with where we have been.&rdquo;</p>
<p>&ldquo;Given the unsustainability of many trends and processes in today&rsquo;s world, the dynamic of development that will apply to our future is not the linear dynamic of classical extrapolation but the nonlinear chaos dynamic of complex-system evolution.&rdquo;</p>
<p>&ldquo;A macroshift is a bifurcation in the evolutionary dynamic of a society &ndash; in our interacting and interdependent world it is a bifurcation of human civilization in its quasi totality.&rdquo;</p>
<p>&ldquo;&hellip;&lsquo;catastrophic bifurcation&rsquo;. Here the system&rsquo;s relatively stable &lsquo;point&rsquo; and &lsquo;periodic&rsquo; attractors are joined by &lsquo;chaotic&rsquo; or &lsquo;strange&rsquo; attractors. These appear suddenly , as chaos theorists say, &lsquo;out of the blue.&rsquo; They drive the system into a supersensitive state, the state of chaos.&rdquo;</p>
<p>&ldquo;The slightest distrubance would shift the evolutionary trajectory of the world&rsquo;s weather from one of the wings to the other. The weather, it appears, is a system in a permanently chaotic state &ndash; a system permanently governed by chaotic attractors.&rdquo;</p>
<p>&ldquo;Living systems maintain themselves in the physically improbable state far from thermal and chemical equilibrium. &hellip; Living systems do not move toward equilibrium, as classical physical systems do, but maintain themselves in their improbable state by constantly replenishing the energies and matter they consume with fresh energies and matter obtained from their environment.&rdquo;</p>
<p>&ldquo;When a human society reaches the limits of its stability, it becomes supersensitive and is highly responsive to the smallest fluctuation. Then the system responds even to subtle changes in values, beliefs, worldviews, and aspirations.&rdquo;</p>
<p>&ldquo;The evolution of the dominant culture and consciousness &ndash; the way people&rsquo;s values, views and ethics respond and change &ndash; determine the outcome of the system&rsquo;s chaos leap (the way its developmental trajectory forks off).&rdquo;</p>
<p>&ldquo;The macroshift moves toward a successful conclusion if, and only if, a critical mass of people in society evolve their mindset: if they generate and embrace values, worldviews, and ethics that mesh with the conditions that were inadvertently spawned by the technological innovations of their predecessors.&rdquo;</p>
<p>&ldquo;The present time was associated with local space, and the future was seen as a continuous recurrence of the rythms experienced in the present. The seasons were known to follow each other, but there were no new seasons; all times had already been experienced.&rdquo;</p>
<p>&ldquo;These communities had a high level of integration. The individual was an essential part of the clan or tribe, which in turn was embedded in nature and governed by cosmic forces. Nature and humans did not exist in separation, much less in opposition. Humans had empathy with all they encountered. &hellip; In the seventeenth century Europe&rsquo;s mechanically colored Logos culminated in the concept of the world as a giant machine, which was elaborated by Giordano Bruno and Galileo Galilei. Newton&rsquo;s mathematical demonstration of the universality of the laws of motion confirmed galileo&rsquo;s pioneering insights and provided a basis for embracing a world concept that became the hallmark of the modern age. &hellip;The universe was a divinely designed clockwork that was set in motion by a prime mover and then ran harmoniously through all eternity. It was believed to operate according to strict laws of nature. A knowledge of these lawss was said to enable the rational mind to know all things past, present and future. &hellip; and as Laplace was reputed to have commented to Napoleon, God was a hypothesis for which there was no longer any need.&rdquo;</p>
<p>&ldquo;&hellip; countless civilizations failed to survive, victims of changing conditions to which they could not adapt. This failure is not one we can contemplate today.&rdquo;</p>
<p>&ldquo;If our Logos-dominated civilizations fails to adapt to the conditions it has itself created, the entire economic and political structure of our world will come crashing down.&rdquo;</p>
<p>&ldquo;&hellip; the macroshift from national industrial societies toward a globally interdependent yet locally diverse world.&rdquo;</p>
<p>&ldquo;It is the flexibility and creativity of the people that creates the subtle but all-important &ldquo;fluctuation&rdquo; that decides which of the available evolutionary paths the macroshift will then follow.&rdquo;</p>
<p>Blogged with <a href="http://www.flock.com/blogged-with-flock" title="Flock">Flock</a>{rel=&ldquo;noopener noreferrer&rdquo; target=&quot;_new&quot;}
:::</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://lewwwk.com/the-rest-of-the-macroshift./">
    <span class="title">« Prev</span>
    <br>
    <span>The rest of the macroshift.</span>
  </a>
  <a class="next" href="https://lewwwk.com/the-early-days-of-the-internet-an-original-cbc-news-story./">
    <span class="title">Next »</span>
    <br>
    <span>The early days of the Internet – an original CBC news story.</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://lewwwk.com/">Lewwwk</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
