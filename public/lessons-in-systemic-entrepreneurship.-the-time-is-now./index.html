<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Lessons in systemic entrepreneurship. The time is now. | Lewwwk</title>
<meta name="keywords" content="#socent, entrepreneurship, social innovation, systemic entrepreneurship, the great remix, The Power of Pull: How Small Moves Smartly Made Can Set Big Things in Motion, Vartana, venturing">
<meta name="description" content=":::: entry-content
Late last fall I had the opportunity to conduct an intensive review of the Vartana initiative on behalf of the J.W. McConnell Family Foundation.  Vartana was an initiative to create a chartable bank in Canada dedicated to serving the voluntary sector. It held the promise of changing the availability of capital for the sector and as a Schedule I chartered bank, influencing the Canadian financial services industry. While ultimately felled by the financial services collapse of 2008, it holds some valuable lessons in entrepreneurial pursuit of systemic change.">
<meta name="author" content="Michael Lewkowitz">
<link rel="canonical" href="https://lewwwk.com/lessons-in-systemic-entrepreneurship.-the-time-is-now./">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://lewwwk.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://lewwwk.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://lewwwk.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://lewwwk.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://lewwwk.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://lewwwk.com/lessons-in-systemic-entrepreneurship.-the-time-is-now./">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="https://lewwwk.com/lessons-in-systemic-entrepreneurship.-the-time-is-now./">
  <meta property="og:site_name" content="Lewwwk">
  <meta property="og:title" content="Lessons in systemic entrepreneurship. The time is now.">
  <meta property="og:description" content=":::: entry-content Late last fall I had the opportunity to conduct an intensive review of the Vartana initiative on behalf of the J.W. McConnell Family Foundation. Vartana was an initiative to create a chartable bank in Canada dedicated to serving the voluntary sector. It held the promise of changing the availability of capital for the sector and as a Schedule I chartered bank, influencing the Canadian financial services industry. While ultimately felled by the financial services collapse of 2008, it holds some valuable lessons in entrepreneurial pursuit of systemic change.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2010-09-10T14:07:44+00:00">
    <meta property="article:modified_time" content="2010-09-10T14:07:44+00:00">
    <meta property="article:tag" content="#Socent">
    <meta property="article:tag" content="Entrepreneurship">
    <meta property="article:tag" content="Social Innovation">
    <meta property="article:tag" content="Systemic Entrepreneurship">
    <meta property="article:tag" content="The Great Remix">
    <meta property="article:tag" content="The Power of Pull: How Small Moves Smartly Made Can Set Big Things in Motion">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lessons in systemic entrepreneurship. The time is now.">
<meta name="twitter:description" content=":::: entry-content
Late last fall I had the opportunity to conduct an intensive review of the Vartana initiative on behalf of the J.W. McConnell Family Foundation.  Vartana was an initiative to create a chartable bank in Canada dedicated to serving the voluntary sector. It held the promise of changing the availability of capital for the sector and as a Schedule I chartered bank, influencing the Canadian financial services industry. While ultimately felled by the financial services collapse of 2008, it holds some valuable lessons in entrepreneurial pursuit of systemic change.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://lewwwk.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Lessons in systemic entrepreneurship. The time is now.",
      "item": "https://lewwwk.com/lessons-in-systemic-entrepreneurship.-the-time-is-now./"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Lessons in systemic entrepreneurship. The time is now.",
  "name": "Lessons in systemic entrepreneurship. The time is now.",
  "description": ":::: entry-content Late last fall I had the opportunity to conduct an intensive review of the Vartana initiative on behalf of the J.W. McConnell Family Foundation. Vartana was an initiative to create a chartable bank in Canada dedicated to serving the voluntary sector. It held the promise of changing the availability of capital for the sector and as a Schedule I chartered bank, influencing the Canadian financial services industry. While ultimately felled by the financial services collapse of 2008, it holds some valuable lessons in entrepreneurial pursuit of systemic change.\n",
  "keywords": [
    "#socent", "entrepreneurship", "social innovation", "systemic entrepreneurship", "the great remix", "The Power of Pull: How Small Moves Smartly Made Can Set Big Things in Motion", "Vartana", "venturing"
  ],
  "articleBody": ":::: entry-content Late last fall I had the opportunity to conduct an intensive review of the Vartana initiative on behalf of the J.W. McConnell Family Foundation. Vartana was an initiative to create a chartable bank in Canada dedicated to serving the voluntary sector. It held the promise of changing the availability of capital for the sector and as a Schedule I chartered bank, influencing the Canadian financial services industry. While ultimately felled by the financial services collapse of 2008, it holds some valuable lessons in entrepreneurial pursuit of systemic change.\nIn brief, the key lessons learned were:\nSystemic interventions amplify strategic vulnerabilities Ideation is the missed opportunity in systemic entrepreneurship Communication is a critical organizing capacity To put it simply, systemic entrepreneurship is, well, really stinkin’ hard. The path is more ambiguous, the context more complex, and resistance greater. It tests the entrepreneurial process to its fullest. If I look to my own entrepreneurial experiences, communication was always the ultimate core infrastructure. But the more systemic the aims, the riskier the initiative and the longer and more iterative the ideation process. It’s in those areas that entrepreneurial self-destruction most show their face.\nFrom the Vartana experience, I found:\nVartana demonstrates that initiatives seeking systemic change require both adequate investment in up front ideation and strategy formulation and an infrastructure that has the capacity to respond commensurately to systemic resistance and volatility.\nMore broadly, I pressed the issue of entrepreneurial infrastructure:\n…entrepreneurial infrastructure is not to be confused with conventional governance models that focus on executive limitation. Rather it should be designed to enable proactive and focused attention to governance, strategy, and execution. It must enable founding contributions from many; leveraging instead of hampering what are traditionally seen as conflicted roles like founder and funder. It must enable entrepreneurs to do the impossible in an environment that is flexible, yet that has the capacity and rigour to address the scale of the challenge at hand. It must create a space that nurtures meaningful engagement, rapid iteration and routine reflection, and transparent decisionmaking that remains grounded in achieving the intended impact with optimal levels of investment.\nIt reminds me a lot of what I’ve since read in The Power of Pull{.zem_slink rel=“amazon”} by John Hagel III{.zem_slink rel=“wikipedia”}, John Seely Brown{.zem_slink rel=“wikipedia”}, and Lang Davison of Deloitte’s Centre for Edge. Even the sub-line “How Small Moves, Smartly Made, Can Set Big Things in Motion” echos of systems thinking and social innovation.\nWhich brings me to my final point. As we pay attention to the systems of our society and find whatever we are working on increasingly influenced by changes in those systems… we elevate ourselves out of traditional sectoral silos. This isn’t an issue isolated to commercial, social, government or civil sectors. It’s an issue about our future and particularly those intent on creating a better future, sooner.\nSo, whether you buy into the Big Shift, the Great Reset, the Macropocalypse, the Macroshift, the Great Remix, or just think “we’re screwed”, the time is now. It’s about our future. Don’t wait. Try. Reflect. Share. Repeat.\nKauffman Foundation Announces Partnership To Create “Who Owns The Icehouse?” Youth Entrepreneurship Initiative (kauffman.org) Philanthropy Roundtable – A Stimulus that Works: Philanthropic Strategies for Boosting Entrepreneurship (kauffman.org) Entrepreneurial Support Programs Must Function Within a Regional Vision, Meet Entrepreneurs’ Core Needs (kauffman.org) Keen On… with Hagel and Seely Brown: Building a New Normal TCTV) (techcrunch.com) Podcast: Entrepreneurship in Fly-Over Country (growvc.com) ::: {.zemanta-pixie style=“margin-top: 10px; height: 15px;”} {.zemanta-pixie-img decoding=“async” style=“border: none; float: right;”}{.zemanta-pixie-a} ::: ::::\n",
  "wordCount" : "586",
  "inLanguage": "en",
  "datePublished": "2010-09-10T14:07:44Z",
  "dateModified": "2010-09-10T14:07:44Z",
  "author":{
    "@type": "Person",
    "name": "Michael Lewkowitz"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lewwwk.com/lessons-in-systemic-entrepreneurship.-the-time-is-now./"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lewwwk",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lewwwk.com/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lewwwk.com/" accesskey="h" title="Lewwwk (Alt + H)">Lewwwk</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lewwwk.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://lewwwk.com/posts/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://lewwwk.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Lessons in systemic entrepreneurship. The time is now.
    </h1>
    <div class="post-meta"><span title='2010-09-10 14:07:44 +0000 UTC'>September 10, 2010</span>&nbsp;·&nbsp;<span>3 min</span>&nbsp;·&nbsp;<span>Michael Lewkowitz</span>

</div>
  </header> 
  <div class="post-content"><p>:::: entry-content
Late last fall I had the opportunity to conduct an intensive <a href="http://www.mcconnellfoundation.ca/en/resources/report/vartana-review-a-reflection-on-the-history-lessons-and-legacy-of">review of the Vartana initiative</a> on behalf of the <a href="http://www.mcconnellfoundation.ca/en">J.W. McConnell Family Foundation</a>.  <a href="http://vartana.org">Vartana</a> was an initiative to create a chartable bank in Canada dedicated to serving the voluntary sector. It held the promise of changing the availability of capital for the sector and as a <a href="http://en.wikipedia.org/wiki/Banking_in_Canada#Regulation">Schedule I chartered bank</a>, influencing the Canadian financial services industry. While ultimately felled by the financial services collapse of 2008, it holds some valuable lessons in entrepreneurial pursuit of systemic change.</p>
<p>In brief, the key lessons learned were:</p>
<ul>
<li>Systemic interventions amplify strategic vulnerabilities</li>
<li>Ideation is the missed opportunity in systemic entrepreneurship</li>
<li>Communication is a critical organizing capacity</li>
</ul>
<p>To put it simply, systemic entrepreneurship is, well, really stinkin&rsquo; hard. The path is more ambiguous, the context more complex, and resistance greater. It tests the entrepreneurial process to its fullest. If I look to my own entrepreneurial experiences, communication was always the ultimate core infrastructure. But the more systemic the aims, the riskier the initiative and the longer and more iterative the ideation process. It&rsquo;s in those areas that entrepreneurial self-destruction most show their face.</p>
<p>From the Vartana experience, I found:</p>
<blockquote>
<p>Vartana demonstrates that initiatives seeking systemic change require both adequate investment in up front ideation and strategy formulation and an infrastructure that has the capacity to respond commensurately to systemic resistance and volatility.</p>
</blockquote>
<p>More broadly, I pressed the issue of entrepreneurial infrastructure:</p>
<blockquote>
<p>&hellip;entrepreneurial infrastructure is not to be confused with conventional governance models that focus on executive limitation. Rather it should be designed to enable proactive and focused attention to governance, strategy, and execution. It must enable founding contributions from many; leveraging instead of hampering what are traditionally seen as conflicted roles like founder and funder. It must enable entrepreneurs to do the impossible in an environment that is flexible, yet that has the capacity and rigour to address the scale of the challenge at hand. It must create a space that nurtures meaningful engagement, rapid iteration and routine reflection, and transparent decisionmaking that remains grounded in achieving the intended impact with optimal levels of investment.</p>
</blockquote>
<p>It reminds me a lot of what I&rsquo;ve since read in <a href="http://www.amazon.com/Power-Pull-Smartly-Things-Motion/dp/0465019358%3FSubscriptionId%3D0G81C5DAZ03ZR9WH9X82%26tag%3Dzemanta-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0465019358" title="The Power of Pull: How Small Moves, Smartly Made, Can Set Big Things in Motion">The Power of Pull</a>{.zem_slink rel=&ldquo;amazon&rdquo;} by <a href="http://en.wikipedia.org/wiki/John_Hagel_III" title="John Hagel III">John Hagel III</a>{.zem_slink rel=&ldquo;wikipedia&rdquo;}, <a href="http://en.wikipedia.org/wiki/John_Seely_Brown" title="John Seely Brown">John Seely Brown</a>{.zem_slink rel=&ldquo;wikipedia&rdquo;}, and <a href="http://www.linkedin.com/in/langdavison">Lang Davison</a> of Deloitte&rsquo;s <a href="http://www.deloitte.com/view/en_US/us/article/cee9509246d52210VgnVCM200000bb42f00aRCRD.htm">Centre for Edge</a>. Even the sub-line &ldquo;How Small Moves, Smartly Made, Can Set Big Things in Motion&rdquo; echos of systems thinking and social innovation.</p>
<p>Which brings me to my final point. As we pay attention to the systems of our society and find whatever we are working on increasingly influenced by changes in those systems&hellip; we elevate ourselves out of traditional sectoral silos. This isn&rsquo;t an issue isolated to commercial, social, government or civil sectors. It&rsquo;s an issue about our future and particularly those intent on creating a better future, sooner.</p>
<p>So, whether you buy into the <a href="http://www.deloitte.com/view/en_US/us/Industries/Technology/center-for-edge-tech/article/26d62345e0032210VgnVCM200000bb42f00aRCRD.htm">Big Shift</a>, the <a href="http://www.creativeclass.com/richard_florida/books/the_great_reset/">Great Reset</a>, the <a href="http://blogs.hbr.org/haque/2009/01/davos_discussing_a_depression.html">Macropocalypse</a>, the <a href="http://www.creativeclass.com/richard_florida/books/the_great_reset/">Macroshift</a>, the <a href="http://lewwwk.com/post67">Great Remix</a>, or just think <a href="http://lewwwk.com/post604">&ldquo;we&rsquo;re screwed&rdquo;</a>, the time is now. It&rsquo;s about our future. Don&rsquo;t wait. Try. Reflect. Share. Repeat.</p>
<ul>
<li><a href="http://www.kauffman.org/newsroom/kauffman-foundation-announces-partnership-to-create-who-owns-the-icehouse-youth-entrepreneurship-initiative.aspx">Kauffman Foundation Announces Partnership To Create &ldquo;Who Owns The Icehouse?&rdquo; Youth Entrepreneurship Initiative</a> (kauffman.org)</li>
<li><a href="http://www.kauffman.org/EventDetails.aspx?id=6832">Philanthropy Roundtable &ndash; A Stimulus that Works: Philanthropic Strategies for Boosting Entrepreneurship</a> (kauffman.org)</li>
<li><a href="http://www.kauffman.org/Details.aspx?id=3998">Entrepreneurial Support Programs Must Function Within a Regional Vision, Meet Entrepreneurs&rsquo; Core Needs</a> (kauffman.org)</li>
<li><a href="http://techcrunch.com/2010/09/08/keen-on-power-of-pull-tctv/">Keen On&hellip; with Hagel and Seely Brown: Building a New Normal TCTV)</a> (techcrunch.com)</li>
<li><a href="http://www.growvc.com/blog/2010/09/podcast-entrepreneurship-in-fly-over-country/">Podcast: Entrepreneurship in Fly-Over Country</a> (growvc.com)</li>
</ul>
<p>::: {.zemanta-pixie style=&ldquo;margin-top: 10px; height: 15px;&rdquo;}
<a href="http://www.zemanta.com/" title="Enhanced by Zemanta"><img alt="Enhanced by Zemanta" loading="lazy" src="http://img.zemanta.com/zemified_a.png?x-id=12ab445f-0d92-4805-b248-7163d32f49cd">{.zemanta-pixie-img decoding=&ldquo;async&rdquo; style=&ldquo;border: none; float: right;&rdquo;}</a>{.zemanta-pixie-a}
:::
::::</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://lewwwk.com/tags/%23socent/">#Socent</a></li>
      <li><a href="https://lewwwk.com/tags/entrepreneurship/">Entrepreneurship</a></li>
      <li><a href="https://lewwwk.com/tags/social-innovation/">Social Innovation</a></li>
      <li><a href="https://lewwwk.com/tags/systemic-entrepreneurship/">Systemic Entrepreneurship</a></li>
      <li><a href="https://lewwwk.com/tags/the-great-remix/">The Great Remix</a></li>
      <li><a href="https://lewwwk.com/tags/the-power-of-pull-how-small-moves-smartly-made-can-set-big-things-in-motion/">The Power of Pull: How Small Moves Smartly Made Can Set Big Things in Motion</a></li>
      <li><a href="https://lewwwk.com/tags/vartana/">Vartana</a></li>
      <li><a href="https://lewwwk.com/tags/venturing/">Venturing</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://lewwwk.com/our-civilization-is-set-to-pivot./">
    <span class="title">« Prev</span>
    <br>
    <span>Our civilization is set to pivot.</span>
  </a>
  <a class="next" href="https://lewwwk.com/its-time-to-bring-the-passion-back./">
    <span class="title">Next »</span>
    <br>
    <span>It’s time to bring the passion back.</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://lewwwk.com/">Lewwwk</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
