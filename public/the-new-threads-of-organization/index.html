<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>The new threads of ‘Organization’ | Lewwwk</title>
<meta name="keywords" content="ChangeMedium, epic, frontiers, Future of Management, Gary Hamel, John Hagel III, John Seely Brown, social technology, Stafford Beer, the great remix, The Power of Pull: How Small Moves Smartly Made Can Set Big Things in Motion, Umair Haque, venturing, Viable System Model, Web 2.0">
<meta name="description" content=":::: entry-content


A thread runs through it.

Organization is one of our most potent social technologies. In a world where chaos, connectivity, and creativity have risen to new heights, increased attention on the topic is both natural and welcomed. Quite simply, if our civilization is set to pivot, getting better at it will help us realize a better future, sooner.">
<meta name="author" content="Michael Lewkowitz">
<link rel="canonical" href="https://lewwwk.com/the-new-threads-of-organization/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://lewwwk.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://lewwwk.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://lewwwk.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://lewwwk.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://lewwwk.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://lewwwk.com/the-new-threads-of-organization/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="https://lewwwk.com/the-new-threads-of-organization/">
  <meta property="og:site_name" content="Lewwwk">
  <meta property="og:title" content="The new threads of ‘Organization’">
  <meta property="og:description" content=":::: entry-content
A thread runs through it. Organization is one of our most potent social technologies. In a world where chaos, connectivity, and creativity have risen to new heights, increased attention on the topic is both natural and welcomed. Quite simply, if our civilization is set to pivot, getting better at it will help us realize a better future, sooner.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2010-10-01T17:08:22+00:00">
    <meta property="article:modified_time" content="2010-10-01T17:08:22+00:00">
    <meta property="article:tag" content="ChangeMedium">
    <meta property="article:tag" content="Epic">
    <meta property="article:tag" content="Frontiers">
    <meta property="article:tag" content="Future of Management">
    <meta property="article:tag" content="Gary Hamel">
    <meta property="article:tag" content="John Hagel III">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The new threads of ‘Organization’">
<meta name="twitter:description" content=":::: entry-content


A thread runs through it.

Organization is one of our most potent social technologies. In a world where chaos, connectivity, and creativity have risen to new heights, increased attention on the topic is both natural and welcomed. Quite simply, if our civilization is set to pivot, getting better at it will help us realize a better future, sooner.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://lewwwk.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "The new threads of ‘Organization’",
      "item": "https://lewwwk.com/the-new-threads-of-organization/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "The new threads of ‘Organization’",
  "name": "The new threads of ‘Organization’",
  "description": ":::: entry-content\nA thread runs through it. Organization is one of our most potent social technologies. In a world where chaos, connectivity, and creativity have risen to new heights, increased attention on the topic is both natural and welcomed. Quite simply, if our civilization is set to pivot, getting better at it will help us realize a better future, sooner.\n",
  "keywords": [
    "ChangeMedium", "epic", "frontiers", "Future of Management", "Gary Hamel", "John Hagel III", "John Seely Brown", "social technology", "Stafford Beer", "the great remix", "The Power of Pull: How Small Moves Smartly Made Can Set Big Things in Motion", "Umair Haque", "venturing", "Viable System Model", "Web 2.0"
  ],
  "articleBody": ":::: entry-content\nA thread runs through it. Organization is one of our most potent social technologies. In a world where chaos, connectivity, and creativity have risen to new heights, increased attention on the topic is both natural and welcomed. Quite simply, if our civilization is set to pivot, getting better at it will help us realize a better future, sooner.\nMy three favourite books on the topic are (reading recommendations at the bottom of this post):\n1979, The Heart of Enterprise (“Heart”), Stafford Beer (selected quotes) 2007, The Future of Management (“Future”), Gary Hamel (selected quotes) 2010, The Power of Pull (“Pull”), John Hagel III, John Seely Brown, Lang Davison (selected quotes) I recently revisited them side-by-side to see what they had in common. What stood out for me were the themes conditioning, humanity, networks, and social technology.\nConditioning trumps control\nAlready back in Heart, Beer recognized the role of management as attending to cohesion, sensing for incipient instability and making the minimum of intervention. In both Future and Pull the authors are more critical of the dehumanizing effect of command and control driven organizations and zero-sum management practices. They all argue that control restrains the creativity, humanity and innovation needed for any organization to thrive and adapt in complex and dynamic environments. Designing and managing organizations is increasingly about creating and conditioning spaces for passionate people to pursue a common purpose.\nOrganizations are human first\nIn Heart, Beer talked about the ultimate manager being someone who achieved enlightenment – someone who was fully alive and aware of who they were. Similarly he saw the optimal organization as one ’exploding into self-consciousness’. Future and Pull more simply recognize that people are at their best when they are free to pursue what matters to them, in short, when they are treated as human beings, not production resources. Where Pull dives into the shift from transactions to relationships and the role of trust, Future summons the moral imperatives of beauty, truth, love, service, wisdom, justice, freedom, and compassion.\nSystem dynamics dominate\nInformation flow is at the heart of Beer’s Viable System Model and Heart excels at driving the rigor of design around information sensing, amplification and attenuation. Its purpose is primarily for being able to sense for incipient instabilities and opportunities within and around the system in focus. This systems perspective is more fully fleshed out in Future through a case illustrating the power of prediction markets in achieving more accurate forecasts than the best analysts. Pull goes further drawing from examples of how sharing, production and collaboration through social media foster natural innovation and illustrate how these dynamics lead to increasing returns. In fact, they argue, that the real value of an organization lies in its networks of long-term relationships.\nSocial technology playing a pivotal role\nBefore Beer wrote Heart, he led a Star Trek-esque roject using telex machines in Chile to manage a centrally planned economy{.zem_slink rel=“wikipedia”}. It’s hard not to have a chuckle at first glance, but the core principles of the design are at the core of the opportunity in the emerging ecosystem of social technologies we have at our disposal today. In Future, written at the start of Web 2.0{.zem_slink rel=“wikipedia”}, Hamel boldly declares “Argue with me if you like, but I’m willing to bet that Management 2.0 is going to look a lot more like Web 2.0”. While the novelty of Web 2.0 had worn off a bit by the time Pull came out, the examples of how social technology is enabling people to pursue their passion, connect, and create value are foundational to how organization actually happens today. It is of course about more than the technology, it is about the technology having reached a point where it nurtures, enables and is compatible with the other three themes above. It seems, these technologies are instrumental in allowing organization to happen more naturally, and of course with over 4 billion people connected, at a scale never before imaginable.\nIn summary, it seems that the technology of organization is undergoing a transformation, enabled by our social technologies, and powered by passionate people. It seems that we naturally are drawn to collaborate around purpose to create a better future, sooner, however that looks to us individually. It seems, even, like a rennaissance of humanity. Whatever it is though, it is on the upswing.\nI’m looking forward to seeing what the great thinkers and writers discover next. I’m also, of course, looking forward to seeing what I can contribute to the game with things like Epic.io.\nThese are fun times to be alive and engaged.\n\u003e\u003e\u003e for those who haven’t yet read the above books… here’s my quick take on which is best for whom\nHeart of Enterprise: A beast of a read but the most accruate understanding of what an organization actually is. Best for those who really really want to get their geek on… or those who are somewhat sadistic. Future of Management: A powerfully passionate case for reinventing management. Best for those who are in management and in need of serious rehab from convention… if you don’t what I’m talking about, that’s you. Power of Pull: A well researched and articulate understanding of how ‘organization’ is fundamentally changing. Best for those who want to understand what is going on right now and why… and those who are working to innovate for good right now. The Power to Pull Prosperity (blogs.hbr.org) ::: {.zemanta-pixie style=“margin-top: 10px; height: 15px;”} {.zemanta-pixie-img decoding=“async” style=“border: none; float: right;”}{.zemanta-pixie-a} ::: ::::\n",
  "wordCount" : "918",
  "inLanguage": "en",
  "datePublished": "2010-10-01T17:08:22Z",
  "dateModified": "2010-10-01T17:08:22Z",
  "author":{
    "@type": "Person",
    "name": "Michael Lewkowitz"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lewwwk.com/the-new-threads-of-organization/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lewwwk",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lewwwk.com/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lewwwk.com/" accesskey="h" title="Lewwwk (Alt + H)">Lewwwk</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lewwwk.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://lewwwk.com/posts/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://lewwwk.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      The new threads of ‘Organization’
    </h1>
    <div class="post-meta"><span title='2010-10-01 17:08:22 +0000 UTC'>October 1, 2010</span>&nbsp;·&nbsp;<span>5 min</span>&nbsp;·&nbsp;<span>Michael Lewkowitz</span>

</div>
  </header> 
  <div class="post-content"><p>:::: entry-content</p>
<figure class="wp-caption alignright" style="width: 160px">
<a href="http://www.flickr.com/photos/michaellewkowitz/4671661985/" title="A thread runs through it -  by Michael Lewkowitz, on Flickr"><img src="http://farm5.static.flickr.com/4019/4671661985_b6ec18aece_m.jpg" title="A thread runs through it." decoding="async" width="160" height="240" alt="Thread" /></a>
<figcaption>A thread runs through it.</figcaption>
</figure>
<p>Organization is one of our most potent social technologies. In a world where chaos, connectivity, and creativity have risen to new heights, increased attention on the topic is both natural and welcomed. Quite simply, if <a href="http://lewwwk.com/post6800">our civilization is set to pivot</a>, getting better at it will help us realize a better future, sooner.</p>
<p>My three favourite books on the topic are (reading recommendations at the bottom of this post):</p>
<ul>
<li>1979, <a href="http://www.amazon.com/Heart-Enterprise-Classic-Beer/dp/0471948373/">The Heart of Enterprise</a> (&ldquo;Heart&rdquo;), <a href="http://en.wikipedia.org/wiki/Anthony_Stafford_Beer">Stafford Beer</a> (<a href="http://lewwwk.com/post40">selected quotes</a>)</li>
<li>2007, <a href="http://www.amazon.com/Future-Management-Gary-Hamel/dp/1422102505/">The Future of Management</a> (&ldquo;Future&rdquo;), <a href="http://www.garyhamel.com/">Gary Hamel</a> (<a href="http://tumblog.igniter.com/post/1210927483/selected-quotes-from-prof-hamels-the-future-of">selected quotes</a>)</li>
<li>2010, <a href="http://www.amazon.com/Power-Pull-Smartly-Things-Motion/dp/0465019358/">The Power of Pull</a> (&ldquo;Pull&rdquo;), <a href="http://www.johnhagel.com/index.shtml">John Hagel III</a>, <a href="http://www.johnseelybrown.com/">John Seely Brown</a>, <a href="http://www.suncirclehealing.com/home/who-will-benefit-from-energy-healing/about-lang-davison">Lang Davison</a> (<a href="http://tumblog.igniter.com/post/1211892939/select-quotes-from-jhagel-jseelybrown-and">selected quotes</a>)</li>
</ul>
<p>I recently revisited them <a href="http://tumblog.igniter.com/post/1215898048/doing-a-side-by-side-comparison-of-power-of">side-by-side</a> to see what they had in common. What stood out for me were the themes conditioning, humanity, networks, and social technology.</p>
<p><strong>Conditioning trumps control</strong></p>
<p>Already back in Heart, Beer recognized the role of management as attending to cohesion, sensing for incipient instability and making the minimum of intervention. In both Future and Pull the authors are more critical of the dehumanizing effect of command and control driven organizations and zero-sum management practices. They all argue that control restrains the creativity, humanity and innovation needed for any organization to thrive and adapt in complex and dynamic environments. Designing and managing organizations is increasingly about creating and conditioning spaces for passionate people to pursue a common purpose.</p>
<p><strong>Organizations are human first</strong></p>
<p>In Heart, Beer talked about the ultimate manager being someone who achieved enlightenment &ndash; someone who was fully alive and aware of who they were. Similarly he saw the optimal organization as one &rsquo;exploding into self-consciousness&rsquo;. Future and Pull more simply recognize that people are at their best when they are free to pursue what matters to them, in short, when they are treated as human beings, not production resources. Where Pull dives into the shift from transactions to relationships and the role of trust, Future summons the moral imperatives of beauty, truth, love, service, wisdom, justice, freedom, and compassion.</p>
<p><strong>System dynamics dominate</strong></p>
<p>Information flow is at the heart of Beer&rsquo;s <a href="http://en.wikipedia.org/wiki/Viable_System_Model">Viable System Model</a> and Heart excels at driving the rigor of design around information sensing, amplification and attenuation. Its purpose is primarily for being able to sense for incipient instabilities and opportunities within and around the system in focus. This systems perspective is more fully fleshed out in Future through a case illustrating the power of prediction markets in achieving more accurate forecasts than the best analysts. Pull goes further drawing from examples of how sharing, production and collaboration through social media foster natural innovation and illustrate how these dynamics lead to increasing returns. In fact, they argue, that the real value of an organization lies in its networks of long-term relationships.</p>
<p><strong>Social technology playing a pivotal role</strong></p>
<p>Before Beer wrote Heart, he led <a href="http://en.wikipedia.org/wiki/Cybersyn">a Star Trek-esque roject</a> using telex machines in Chile to manage a <a href="http://en.wikipedia.org/wiki/Planned_economy" title="Planned economy">centrally planned economy</a>{.zem_slink rel=&ldquo;wikipedia&rdquo;}. It&rsquo;s hard not to have a chuckle at first glance, but the core principles of the design are at the core of the opportunity in the emerging ecosystem of social technologies we have at our disposal today. In Future, written at the start of <a href="http://en.wikipedia.org/wiki/Web_2.0" title="Web 2.0">Web 2.0</a>{.zem_slink rel=&ldquo;wikipedia&rdquo;}, Hamel boldly declares &ldquo;Argue with me if you like, but I&rsquo;m willing to bet that Management 2.0 is going to look a lot more like Web 2.0&rdquo;. While the novelty of Web 2.0 had worn off a bit by the time Pull came out, the examples of how social technology is enabling people to pursue their passion, connect, and create value are foundational to how organization actually happens today. It is of course about more than the technology, it is about the technology having reached a point where it nurtures, enables and is compatible with the other three themes above. It seems, these technologies are instrumental in allowing organization to happen more naturally, and of course with over 4 billion people connected, at a scale never before imaginable.</p>
<p><strong>In summary,</strong> it seems that the technology of organization is undergoing a transformation, enabled by our social technologies, and powered by passionate people. It seems that we naturally are drawn to collaborate around purpose to create a better future, sooner, however that looks to us individually. It seems, even, like a rennaissance of humanity.  Whatever it is though, it is on the upswing.</p>
<p>I&rsquo;m looking forward to seeing what the great thinkers and writers discover next. I&rsquo;m also, of course, looking forward to seeing what I can contribute to the game with things like <a href="http://epic.io">Epic.io</a>.</p>
<p>These are fun times to be alive and engaged.</p>
<p><strong>&gt;&gt;&gt; for those who haven&rsquo;t yet read the above books&hellip; here&rsquo;s my quick take on which is best for whom</strong></p>
<ul>
<li><strong>Heart of Enterprise:</strong> A beast of a read but the most accruate understanding of what an organization actually is. Best for those who really really want to get their geek on&hellip; or those who are somewhat sadistic.</li>
<li><strong>Future of Management:</strong> A powerfully passionate case for reinventing management. Best for those who are in management and in need of serious rehab from convention&hellip; if you don&rsquo;t what I&rsquo;m talking about, that&rsquo;s you.</li>
<li><strong>Power of Pull:</strong> A well researched and articulate understanding of how &lsquo;organization&rsquo; is fundamentally changing. Best for those who want to understand what is going on right now and why&hellip; and those who are working to innovate for good right now.</li>
</ul>
<!-- -->
<ul>
<li><a href="http://blogs.hbr.org/haque/2010/09/the_power_to_pull_prosperity.html">The Power to Pull Prosperity</a> (blogs.hbr.org)</li>
</ul>
<p>::: {.zemanta-pixie style=&ldquo;margin-top: 10px; height: 15px;&rdquo;}
<a href="http://www.zemanta.com/" title="Enhanced by Zemanta"><img alt="Enhanced by Zemanta" loading="lazy" src="http://img.zemanta.com/zemified_a.png?x-id=6175e7f5-d730-4bd2-bec9-4ed8abdbfa87">{.zemanta-pixie-img decoding=&ldquo;async&rdquo; style=&ldquo;border: none; float: right;&rdquo;}</a>{.zemanta-pixie-a}
:::
::::</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://lewwwk.com/tags/changemedium/">ChangeMedium</a></li>
      <li><a href="https://lewwwk.com/tags/epic/">Epic</a></li>
      <li><a href="https://lewwwk.com/tags/frontiers/">Frontiers</a></li>
      <li><a href="https://lewwwk.com/tags/future-of-management/">Future of Management</a></li>
      <li><a href="https://lewwwk.com/tags/gary-hamel/">Gary Hamel</a></li>
      <li><a href="https://lewwwk.com/tags/john-hagel-iii/">John Hagel III</a></li>
      <li><a href="https://lewwwk.com/tags/john-seely-brown/">John Seely Brown</a></li>
      <li><a href="https://lewwwk.com/tags/social-technology/">Social Technology</a></li>
      <li><a href="https://lewwwk.com/tags/stafford-beer/">Stafford Beer</a></li>
      <li><a href="https://lewwwk.com/tags/the-great-remix/">The Great Remix</a></li>
      <li><a href="https://lewwwk.com/tags/the-power-of-pull-how-small-moves-smartly-made-can-set-big-things-in-motion/">The Power of Pull: How Small Moves Smartly Made Can Set Big Things in Motion</a></li>
      <li><a href="https://lewwwk.com/tags/umair-haque/">Umair Haque</a></li>
      <li><a href="https://lewwwk.com/tags/venturing/">Venturing</a></li>
      <li><a href="https://lewwwk.com/tags/viable-system-model/">Viable System Model</a></li>
      <li><a href="https://lewwwk.com/tags/web-2.0/">Web 2.0</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://lewwwk.com/people-purpose-and-a-better-future-sooner./">
    <span class="title">« Prev</span>
    <br>
    <span>People, purpose, and a better future, sooner.</span>
  </a>
  <a class="next" href="https://lewwwk.com/our-civilization-is-set-to-pivot./">
    <span class="title">Next »</span>
    <br>
    <span>Our civilization is set to pivot.</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://lewwwk.com/">Lewwwk</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
